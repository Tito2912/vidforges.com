!function(){"use strict";const e=(e,t=document)=>t.querySelector(e),t=(e,t=document)=>Array.from(t.querySelectorAll(e)),n={set(e,t,n=180){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)};expires=${o.toUTCString()};path=/;Secure;SameSite=Lax`},get(e){const t=document.cookie.split("; ").find(t=>t.startsWith(encodeURIComponent(e)+"="));return t?decodeURIComponent(t.split("=")[1]):null},del(e){document.cookie=`${encodeURIComponent(e)}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;Secure;SameSite=Lax`}},o={get k(){return{lang:"langPref",consent:"consent_status"}},read(e){try{return localStorage.getItem(e)}catch{return null}},write(e,t){try{localStorage.setItem(e,t)}catch{}},remove(e){try{localStorage.removeItem(e)}catch{}}},a=()=>window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function r(e){return"/"===e?"/fr/":e.startsWith("/fr/")?e.substring(3)||"/":e.startsWith("/")?"/fr"+e:"/fr/"+e}function i(){if(n.get(o.k.lang)||o.read(o.k.lang))return;if((navigator.language||"").toLowerCase().startsWith("fr")&&!location.pathname.startsWith("/fr/")){const e=r(location.pathname)+location.search+location.hash;location.replace(e)}}function c(){const t=[e("#langSwitch"),e("#footerLang")].filter(Boolean);t.forEach(e=>function(e){if(!e)return;const t=location.pathname.startsWith("/fr/");e.setAttribute("aria-pressed",String(!t)),e.textContent=t?"EN":"FR"}(e)),t.forEach(e=>e.addEventListener("click",e=>{e.preventDefault();const t=location.pathname.startsWith("/fr/");var a;a=t?"en":"fr",n.set(o.k.lang,a),o.write(o.k.lang,a);const i=r(location.pathname)+location.search+location.hash;location.assign(i)}))}function s(){const n=e("#burger"),o=e("#drawer");if(!n||!o)return;const a=e(".drawer-overlay",o),r=e("#drawerClose",o),i='a[href],button:not([disabled]),area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[tabindex]:not([tabindex="-1"])';let c=null;function s(e){if(!o.classList.contains("is-open"))return;const n=t(i,o).filter(e=>null!==e.offsetParent);if(0===n.length)return;const a=n[0],r=n[n.length-1];"Tab"===e.key?e.shiftKey&&document.activeElement===a?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),a.focus()):"Escape"===e.key&&(e.preventDefault(),d())}function d(){o.classList.remove("is-open"),n.setAttribute("aria-expanded","false"),document.removeEventListener("keydown",s),c&&"function"==typeof c.focus&&c.focus()}n.addEventListener("click",()=>{o.classList.contains("is-open")?d():(c=document.activeElement,o.classList.add("is-open"),n.setAttribute("aria-expanded","true"),setTimeout(()=>{(t(i,o).filter(e=>null!==e.offsetParent)[0]||r||o).focus()},0),document.addEventListener("keydown",s))}),a&&a.addEventListener("click",d),r&&r.addEventListener("click",d)}function d(...e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}function l(t=!0){const n=e("#consent");n&&(t?n.removeAttribute("hidden"):n.setAttribute("hidden",""))}function u(e){n.set(o.k.consent,e),o.write(o.k.consent,e)}function f(e){"accepted"===e?window.gtag?(window.gtag("consent","update",{analytics_storage:"granted"}),window.gtag("config","G-NHSS23Q3D9")):(d("consent","update",{analytics_storage:"granted"}),d("config","G-NHSS23Q3D9")):window.gtag?window.gtag("consent","update",{analytics_storage:"denied"}):d("consent","update",{analytics_storage:"denied"})}function p(){const t=e("#consentAccept"),a=e("#consentDecline"),r=e("#consentSettings"),i=e("#openConsent"),c=e("#clearConsent"),s=n.get(o.k.consent)||o.read(o.k.consent);s||l(!0),t&&t.addEventListener("click",()=>{u("accepted"),f("accepted"),l(!1)}),a&&a.addEventListener("click",()=>{u("declined"),f("declined"),l(!1)}),r&&r.addEventListener("click",()=>l(!0)),i&&i.addEventListener("click",()=>l(!0)),c&&c.addEventListener("click",()=>{n.del(o.k.consent),n.del(o.k.lang),o.remove(o.k.consent),o.remove(o.k.lang),l(!0)}),s&&f(s)}function m(){const t=e("#heroVideo");if(!t)return;const n=e("source[data-src]",t);if(!n)return;if(a()||(()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return!(!e||!e.saveData)})())return;let o=!1;function r(){if(o)return;o=!0;const e=n.getAttribute("data-src");e&&(n.setAttribute("src",e),n.removeAttribute("data-src")),t.load();const a=()=>{const e=t.play();e&&"function"==typeof e.catch&&e.catch(()=>{})};t.readyState>=2?a():t.addEventListener("loadeddata",a,{once:!0})}!function(){if("IntersectionObserver"in window){new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(r(),t.disconnect())})},{rootMargin:"300px 0px"}).observe(t)}else window.addEventListener("load",()=>{setTimeout(r,500)})}()}document.addEventListener("DOMContentLoaded",()=>{var n;!function(){const t=e("#year");t&&(t.textContent=(new Date).getFullYear())}(),s(),p(),c(),t('a[href="https://klingaiaffiliate.pxf.io/4G9Der"]').forEach(e=>{e.setAttribute("target","_blank"),e.setAttribute("rel","sponsored noopener")}),i(),"function"==typeof(n=()=>{t(".video-frame[data-youtube]").forEach(e=>{const t=e.getAttribute("data-youtube");function n(){const n="https://www.youtube-nocookie.com/embed/"+encodeURIComponent(t)+"?autoplay=1&modestbranding=1&rel=0&playsinline=1&controls=1",o=document.createElement("iframe");o.width="100%",o.height="100%",o.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),o.setAttribute("allowfullscreen",""),o.setAttribute("title","YouTube video player"),o.setAttribute("src",n),o.setAttribute("loading","lazy"),o.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),e.replaceChildren(o)}t&&(e.addEventListener("click",n),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n())}))}),function(){const e=t(".demo-video");if(0===e.length)return;const n=!a()&&window.matchMedia&&window.matchMedia("(pointer:fine)").matches;e.forEach(e=>{e.controls=!0,n&&(e.addEventListener("mouseenter",()=>{e.paused&&e.play().catch(()=>{})}),e.addEventListener("mouseleave",()=>{try{e.pause(),e.currentTime=0}catch{}})),e.addEventListener("click",()=>{e.paused?e.play().catch(()=>{}):e.pause()})})}(),document.addEventListener("click",e=>{const t=e.target.closest('a[href^="#"]');if(!t)return;const n=t.getAttribute("href").slice(1);if(!n)return;const o=document.getElementById(n);o&&(e.preventDefault(),o.scrollIntoView({behavior:a()?"auto":"smooth",block:"start"}),o.focus({preventScroll:!0}))}),m()})&&("requestIdleCallback"in window?window.requestIdleCallback(n):window.setTimeout(n,1))})}();